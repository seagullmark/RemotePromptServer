# RemotePrompt Server Configuration
# Copy this file to .env and edit the values

# ==========================================================
# API Authentication
# ==========================================================

# API Key for authenticating requests from iOS app
# Generate a secure key: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEY=your-secure-api-key-here

# ==========================================================
# Database
# ==========================================================

# SQLite database path
DATABASE_URL=sqlite:///./data/jobs.db

# ==========================================================
# Logging
# ==========================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ==========================================================
# CORS (Cross-Origin Resource Sharing)
# ==========================================================

# Allowed origins (comma-separated)
# Usually not needed for local network usage
ALLOWED_ORIGINS=http://127.0.0.1:8443

# ==========================================================
# SSL/TLS Certificate Configuration
# ==========================================================

# SSL Mode: "commercial", "self_signed", or "auto"
# - commercial: Use Let's Encrypt or other CA certificates
# - self_signed: Use self-signed certificate (recommended for local network)
# - auto: Use commercial if available, fallback to self-signed
SSL_MODE=self_signed

# Auto mode fallback (requires explicit opt-in for security)
SSL_AUTO_FALLBACK_ENABLED=false

# Self-signed certificate paths (auto-generated if not exist)
SSL_CERT_PATH=./certs/self_signed/server.crt
SSL_KEY_PATH=./certs/self_signed/server.key

# Auto-generate self-signed certificate on startup
SSL_AUTO_GENERATE=true

# Server hostname (used for certificate CN)
# Set to your machine's IP address or hostname
SERVER_HOSTNAME=localhost

# SAN (Subject Alternative Names) IPs for certificate
# Comma-separated list of IP addresses
# Example: 192.168.1.100,10.0.0.50
SERVER_SAN_IPS=127.0.0.1

# Server port
SERVER_PORT=8443

# Commercial certificate paths (if using Let's Encrypt etc.)
# COMMERCIAL_CERT_PATH=./certs/live/yourdomain.com/fullchain.pem
# COMMERCIAL_KEY_PATH=./certs/live/yourdomain.com/privkey.pem

# ==========================================================
# Bonjour (mDNS/DNS-SD) Configuration
# ==========================================================

# Enable Bonjour service discovery for local network
BONJOUR_ENABLED=true

# Service name shown to iOS clients
BONJOUR_SERVICE_NAME=RemotePrompt Server

# ==========================================================
# Thread Compatibility Mode
# ==========================================================

# Allow legacy API calls without thread_id (for backward compatibility)
THREADS_COMPAT_MODE=true

# ==========================================================
# AI CLI Defaults
# ==========================================================

# Default Codex sandbox when room settings do not specify one
# Options: read-only, workspace-write, danger-full-access
# CODEX_DEFAULT_SANDBOX=workspace-write

# ==========================================================
# QR Code Display
# ==========================================================

# Show QR code in terminal on server startup for easy iOS app setup
# The QR code contains: server URL, API key, and certificate fingerprint
SHOW_QR_ON_STARTUP=false

# ==========================================================
# Workspace Path Security
# ==========================================================

# Allowed base paths for workspace directories (comma-separated)
# By default, the entire home directory is allowed
# Restrict for security: ALLOWED_BASE_PATHS=/Users/you/Projects,/Users/you/work
# ALLOWED_BASE_PATHS=
